<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corretor de Provas - Somat√≥ria</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <main class="app-container glass">
        <!-- Header -->
        <header>
            <h1>Corretor <span class="highlight">Somat√≥ria</span></h1>
        </header>

        <!-- Step 1: Setup -->
        <section id="step-setup" class="step active">
            <h2>Configura√ß√£o</h2>
            <div class="input-group">
                <label for="num-questions">Quantas quest√µes tem a prova?</label>
                <input type="number" id="num-questions" min="1" max="100" value="60">
            </div>

            <div class="input-group">
                <label for="language-select">L√≠ngua Estrangeira</label>
                <select id="language-select">
                    <option value="ingles">Ingl√™s</option>
                    <option value="espanhol">Espanhol</option>
                </select>
            </div>

            <button id="btn-to-key" class="btn-primary">Carregar Gabarito</button>
        </section>

        <!-- Step 2: Answer Key -->
        <section id="step-key" class="step hidden">
            <h2>Gabarito Oficial</h2>
            <p>Insira a soma correta para cada quest√£o.</p>
            <div id="key-inputs-container" class="grid-inputs">
                <!-- Generated by JS -->
            </div>
            <div class="actions">
                <button id="btn-back-setup" class="btn-secondary">Voltar</button>
                <button id="btn-to-grading" class="btn-primary">Come√ßar Corre√ß√£o</button>
            </div>
        </section>

        <!-- Step 3: Grading -->
        <section id="step-grading" class="step hidden">
            <h2>Corre√ß√£o</h2>

            <div class="grading-layout">
                <div class="image-upload-area" id="drop-zone">
                    <input type="file" id="exam-photo" accept="image/*" multiple hidden>
                    <div class="upload-placeholder">
                        <span class="icon">üì∑</span>
                        <p>Arraste ou clique para carregar as fotos da prova</p>
                    </div>
                    <img id="exam-preview" class="hidden" alt="Preview da prova">

                    <div id="image-controls" class="image-controls hidden">
                        <button id="btn-prev-img" class="nav-btn">‚ùÆ</button>
                        <span id="img-indicator">1 / 1</span>
                        <button id="btn-next-img" class="nav-btn">‚ùØ</button>
                    </div>
                </div>

                <div class="answers-panel">
                    <h3>Respostas do Aluno</h3>
                    <button id="btn-scan-ai" class="btn-secondary full-width"
                        style="margin-bottom: 1rem; border-color: var(--primary-color); color: var(--primary-color);">
                        ‚ú® Ler Respostas com IA (Beta)
                    </button>
                    <div id="grading-inputs-container" class="scrollable-inputs">
                        <!-- Generated by JS -->
                    </div>
                    <button id="btn-finish" class="btn-primary full-width">Finalizar e Calcular</button>
                </div>
            </div>
            <button id="btn-back-key" class="btn-secondary">Voltar ao Gabarito</button>
        </section>

        <!-- Step 4: Results -->
        <section id="step-results" class="step hidden">
            <h2>Resultado Final</h2>
            <div class="score-display">
                <span class="score-label">Nota</span>
                <span id="final-score" class="score-value">0</span>
                <span class="score-total">/ <span id="max-score">0</span></span>
            </div>

            <div id="results-breakdown" class="results-list">
                <!-- Generated by JS -->
            </div>

            <button id="btn-restart" class="btn-primary">Nova Corre√ß√£o</button>
        </section>
    </main>

    <script src="script.js"></script>
</body>

</html>